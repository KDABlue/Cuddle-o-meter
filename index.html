<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bumba-Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Link to your external stylesheet -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="./utils/styles/potatograd.css">
  
  <!-- Favicon and other icons -->
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple_p1.png">
  
  <!-- EmailJS init (if you still want it) -->
  <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script type="text/javascript">
    (function(){
      emailjs.init("tZT00gmBdVZKNcy--"); 
    })();
  </script>
</head>

<body>
  
  <!-- A background canvas (optional) -->
  <canvas id="background-canvas"></canvas>
  
  <!-- Fixed Navigation at the top -->
  <nav>
    <div class="menu-toggle">☰</div>
    <ul class="nav-links">
      <li><a href="#home" class="nav-link">Home</a></li>
      <li><a href="#thermometer" class="nav-link">Coccolometro</a></li>
      <li><a href="#bumbatype" class="nav-link">Bumba-Tipo</a></li>
      <li><a href="#contact" class="nav-link">Posta di Bumbo</a></li>
      <li><a href="#letters" class="letters-link">Le Lettere di Bumbo</a></li>
      <li><a href="#bumbo-signal" class="nav-link">Bumbo-Segnale</a></li>
      <li><a href="#potatograd" class="nav-link">Dott.sa Potata</a></li>
      <li><a href="#bumbapuzzle" class="nav-link">Bumba Puzzle</a></li>
      <li><a href="#bumba-run" class="nav-link">Bumba Run</a></li>
      <li><a href="#other" class="nav-link">W.I.P</a></li>
      <li class="back-arrow"><a href="#" class="nav-link">Indietro</a></li>
    </ul>
  </nav>

  <!-- Main container (white card) -->
  <div class="container">
    <h1 id="title">Bumba-Hub 2.0</h1>
    
    <!-- Content area -->
    <div id="content">
      
      <!-- Home Page -->
      <div id="home" class="content-page active">
        <h2>Welcome to Bumba-Hub!</h2>
        <p>Select a page from the navigation menu.</p>
      </div>
      
      <!-- Thermometer Page -->
      <div id="thermometer" class="content-page">
        <div class="thermometer-container">
          <div class="thermometer">
            <div class="scale">
              <div id="mercury"></div>
              <div class="marks">
                <div class="mark" style="bottom: 0%;">0</div>
                <div class="mark" style="bottom: 21.74%;">5</div>
                <div class="mark" style="bottom: 43.48%;">10</div>
                <div class="mark" style="bottom: 65.22%;">15</div>
                <div class="mark" style="bottom: 86.96%;">20</div>
                <div class="mark" style="bottom: 100%;">23</div>
              </div>
            </div>
          </div>
          <div id="temperature-display">0°C</div>
        </div>
        <div class="controls">
          <button id="increase-btn" class="btn increase">▲</button>
          <button id="decrease-btn" class="btn decrease">▼</button>
        </div>
      </div>
      
      <!-- Bumbatype Page -->
      <div id="bumbatype" class="content-page">
        <h2>Seleziona il tuo Bumba-Tipo</h2>
        <u style="color: crimson;">Fai attenzione, puoi cambiare il Bumba-Tipo solo una volta al giorno</u>
        <div class="image-gallery">
          <!-- Example images; ensure these paths exist or replace with your own -->
          <img src="images/cat.png" alt="Gattina" class="selectable-image">
          <img src="images/snail.png" alt="Lumachina" class="selectable-image">
          <img src="images/potato.png" alt="Potata" class="selectable-image">
          <img src="images/potato-cat.png" alt="Gattina Potata" class="selectable-image">
          <img src="images/snail-potato.png" alt="Lumachina Potata" class="selectable-image">
          <img src="images/kitten-snail.png" alt="Gattina Lumachina" class="selectable-image">
          <img src="images/potato-snail-cat.png" alt="Gattina Potatosa Lumacosa" class="selectable-image">
        </div>
        <div id="selected-image-container">
          <h1 id="image-message"></h1>
          <img id="selected-image" src="" alt="Selected Image" style="display:none;">
          <div id="countdown"></div>
        </div>
      </div>
      
      <!-- Contact Page -->
      <div id="contact" class="content-page">
        <h2>Posta di Bumbo</h2>
        <form id="contact-form">
          <label for="email">Bumba email:</label>
          <input type="email" id="email" name="email" required>
          
          <label for="message">Messaggio:</label>
          <textarea id="message" name="message" rows="4" required></textarea>
          
          <button type="submit" id="send-btn" class="btn">Messaggia Bumbo</button>
        </form>
        <div id="status-message"></div>
      </div>
      
      <!-- Letters Page -->
      <div id="letters" class="content-page">
        <h2>Le Lettere di Bumbo</h2>
        <div id="letter-links-container">
          <p class="disclaimer">
            Queste lettere rappresentano i miei pensieri personali durante le giornate lontano da te...
            <!-- (etc. – your disclaimer text) -->
          </p>
        </div>
        <div id="letter-content-container" style="display: none;">
          <button id="back-to-letters-btn" class="btn">Torna alle lettere</button>
          <h3 id="letter-title"></h3>
          <pre id="letter-content"></pre>
        </div>
      </div>
      
      <!-- Bumbo-Signal Page -->
      <div id="bumbo-signal" class="content-page">
        <h2>Bumbo-Segnale</h2>
        <div id="glass-cover">
          <p>Tocca per rimuovere il coperchio</p>
        </div>
        <button id="bumbo-button" class="btn" style="display: none;">Invia il Bumbo-Segnale</button>
        <div id="disclaimer">
          Attenzione: Questa funzione invierà un segnale di emergenza con i dati di localizzazione...
        </div>
      </div>
      
      <div id="potatograd" class="content-page">
        <h2 style="text-align: center;">Dottoressa Potata</h2>
        <div id="potatograd-container">
          <img id="potatograd-image" src="images/potatograd.png" alt="Potato" />
          <p class="potatograd-text">BRAVISSIMA POTATA!!<br>TANTI AUGURI!!!</p>
        </div>
        <!-- Back button removed as per user instruction -->
      </div>
      <div id="bumbapuzzle" class="content-page">
        <h2>Bumba Puzzle</h2>
        
        <!-- Image Selector -->
        <div id="puzzle-selector">
          <p>Seleziona una delle imaggini:</p>
          <div class="image-gallery">
            <!-- Example images; replace with your own or add more -->
            <img src="images/puzzles/ios.jpg" alt="Puzzle Image 1" class="select-puzzle-image">
            <img src="images/puzzles/porta_romana.jpg" alt="Puzzle Image 2" class="select-puzzle-image">
            <img src="images/puzzles/spep.jpg" alt="Puzzle Image 3" class="select-puzzle-image">
            <!-- Add more images as needed -->
          </div>
        </div>
        
        <!-- Puzzle Area -->
        <div id="puzzle-container" style="display:none;">
          <h3>Sposta e piazza i pezzi per completare il puzzle!</h3>
          <div class="puzzle-grid"></div>
          <div class="puzzle-controls">
            <button id="reset-puzzle-btn" class="btn">Reset Puzzle</button>
            <button id="back-to-selector-btn" class="btn">Torna alla selezione</button>
          </div>
        </div>
      </div>
      <!-- Bumba Run Page -->
      <div id="bumba-run" class="content-page">
        <h2>Bumba Run</h2>
        
        <!-- Game Area -->
        <div id="game-container">
          <canvas id="gameCanvas"></canvas>
          
          <!-- Score Display -->
          <div class="game-score">Score: <span id="score">0</span></div>
          
          <!-- Record Display -->
          <div class="game-record">Record: <span id="record">0</span></div>
          
          <!-- Notification for New Record -->
          <div id="new-record-notification" class="new-record-notification" style="display: none;">
            Brwva bumba nuovo record!!
          </div>
          
          <!-- Control Buttons -->
          <div class="game-controls">
            <button id="pause-btn" class="btn">Pause</button>
            <button id="stop-btn" class="btn">Stop</button>
          </div>
          
          <!-- Leaderboard -->
          <div class="leaderboard">
            <h3>Leaderboard</h3>
            <ol id="high-scores">
              <!-- High scores will be dynamically inserted here -->
            </ol>
          </div>
          
          <!-- Audio Elements (Optional) -->
          <!-- <audio id="bg-music" src="audio/background.mp3" loop></audio>
          <audio id="collision-sound" src="audio/collision.mp3"></audio> -->
        </div>
      </div>

      <div id="other" class="content-page">
        <h2>Work in progress</h2>
        <img src="images/wip.png" alt="Gattino Costruttore"
             width="200" height="200">
      </div>
      
    </div> <!-- end #content -->
  </div> <!-- end .container -->
  
  <!-- Main JS scripts -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script type="module" src="script.js"></script>
  <!-- Removed potatograd.js script tag to prevent 404 and MIME type issues -->
</body>
</html>
